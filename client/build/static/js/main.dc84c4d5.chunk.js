(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{132:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(11),i=a.n(r),c=a(12),s=a(41),l=a.n(s),o=a(52),d=a(17),j=a(22),u=a(167),b=a(170),g=a(172),m=a(134),p=a(173),h=a(178),x=a(174),O=a(175),f=a(179),v=a(83),y=(a(133),v.a.initializeApp({apiKey:"AIzaSyD_NoHe9L9rrBU2riJ0YXSXzdUxzmutKGE",authDomain:"video-player-d70fa.firebaseapp.com",projectId:"video-player-d70fa",storageBucket:"video-player-d70fa.appspot.com",messagingSenderId:"610561483260",appId:"1:610561483260:web:5f10e229f0b5868fba9279",measurementId:"G-TLT25GXPXT"})),w=(y.storage(),y),S=a(54),I=a.n(S),k=a(3),C=Object(u.a)((function(e){return{root:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}}})),D=function(){var e=Object(c.f)(),t=Object(n.useState)(!1),a=Object(j.a)(t,2),r=a[0],i=a[1],s=Object(n.useState)(!1),u=Object(j.a)(s,2),v=u[0],y=u[1],S=Object(n.useState)(null),D=Object(j.a)(S,2),F=D[0],M=D[1],N=Object(n.useState)({}),z=Object(j.a)(N,2),B=z[0],L=z[1];Object(n.useEffect)((function(){null!=F&&w.storage().ref("image").child(F.name).getDownloadURL().then((function(e){return E(Object(d.a)(Object(d.a)({},U),{},{image:e}))}))}),[F]),Object(n.useEffect)((function(){null!=F&&w.storage().ref("video").child(B.name).getDownloadURL().then((function(e){return E(Object(d.a)(Object(d.a)({},U),{},{video:e}))}))}),[B]);var T=Object(n.useState)({name:"",release:"",language:"",image:"",video:""}),W=Object(j.a)(T,2),U=W[0],E=W[1],R=function(){var t=Object(o.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==U.name&&""!==U.release&&""!==U.image&&""!==U.video&&""!==U.language){t.next=3;break}return alert("Please fill all required field"),t.abrupt("return");case 3:return t.prev=3,t.next=6,I.a.post("/api/user/register",U);case 6:E(""),e.push("/movies"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),alert(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}(),q=new Date,H=("".concat(q.getFullYear(),"-").concat(String(q.getMonth()+1).padStart(2,"0"),"-").concat(String(q.getDate()).padStart(2,"0")),C());return Object(k.jsxs)(b.a,{maxWidth:"md",className:H.root,children:[Object(k.jsx)(g.a,{variant:"h5",children:"Movie Data"}),Object(k.jsx)(m.a,{elevation:2,style:{padding:30,margin:10},children:Object(k.jsxs)(p.a,{container:!0,spacing:3,lg:12,children:[Object(k.jsx)(p.a,{item:!0,xs:12,sm:12,lg:12,xl:12,children:Object(k.jsx)(h.a,{id:"release",fullWidth:!0,required:!0,variant:"standard",label:"Movie Name",value:U.name,onChange:function(e){E(Object(d.a)(Object(d.a)({},U),{},{name:e.target.value}))}})}),Object(k.jsx)(p.a,{item:!0,xs:12,sm:12,lg:12,xl:12,children:Object(k.jsx)(h.a,{fullWidth:!0,required:!0,id:"release",placeholder:"Enter Release Date",type:"date",variant:"standard",value:U.release,onChange:function(e){E(Object(d.a)(Object(d.a)({},U),{},{release:e.target.value}))}})}),Object(k.jsx)(p.a,{item:!0,xs:12,sm:12,lg:12,xl:12,children:Object(k.jsx)(h.a,{fullWidth:!0,required:!0,variant:"standard",label:"Language",value:U.language,onChange:function(e){E(Object(d.a)(Object(d.a)({},U),{},{language:e.target.value}))}})}),Object(k.jsxs)(p.a,{item:!0,xs:12,sm:12,lg:12,xl:12,md:12,container:!0,spacing:1,children:[Object(k.jsx)(p.a,{item:!0,xs:12,sm:12,lg:4,xl:4,md:4,container:!0,alignItems:"center",children:Object(k.jsx)(g.a,{variant:"h6",children:"Thumbnail"})}),Object(k.jsx)(p.a,{item:!0,xs:12,sm:12,lg:4,xl:4,md:4,container:!0,alignItems:"center",children:Object(k.jsxs)("label",{htmlFor:"btn-upload",children:[Object(k.jsx)("input",{id:"btn-upload",name:"btn-upload",style:{display:"none"},type:"file",onChange:function(e){e.target.files[0].type.endsWith("jpeg")||e.target.files[0].type.endsWith("jpg")||e.target.files[0].type.endsWith("png")?(i(!0),w.storage().ref("image").child(e.target.files[0].name).put(e.target.files[0]).then((function(t){M(e.target.files[0]),i(!1)}))):alert("Please upload image with extension jpeg,jpg or png")}}),Object(k.jsx)(x.a,{disabled:r,className:"btn-choose",variant:"contained",component:"span",color:"primary",children:"Upload Image"})]})}),Object(k.jsx)(p.a,{item:!0,xs:12,sm:12,lg:4,xl:4,md:4,container:!0,alignItems:"center",children:r?Object(k.jsx)(O.a,{}):!1===r&&""!==U.image&&Object(k.jsx)(f.a,{severity:"success",children:"Image uploaded Successfully!"})})]}),Object(k.jsxs)(p.a,{item:!0,xs:12,sm:12,lg:12,xl:12,md:12,container:!0,spacing:1,children:[Object(k.jsx)(p.a,{item:!0,xs:12,sm:12,lg:4,xl:4,md:4,container:!0,alignItems:"center",children:Object(k.jsx)(g.a,{variant:"h6",children:"Video"})}),Object(k.jsx)(p.a,{item:!0,xs:12,sm:12,lg:4,xl:4,md:4,container:!0,alignItems:"center",children:Object(k.jsxs)("label",{htmlFor:"btn-video-upload",children:[Object(k.jsx)("input",{id:"btn-video-upload",name:"btn-upload",style:{display:"none"},type:"file",onChange:function(e){e.target.files[0].type.endsWith("mp4")?(y(!0),w.storage().ref("video").child(e.target.files[0].name).put(e.target.files[0]).then((function(t){L(e.target.files[0]),y(!1)}))):alert("Please upload video with extension mp4")}}),Object(k.jsx)(x.a,{disabled:v,className:"btn-choose",variant:"contained",component:"span",color:"primary",children:"Upload Video"})]})}),Object(k.jsx)(p.a,{item:!0,xs:12,sm:12,lg:4,xl:4,md:4,container:!0,alignItems:"center",children:v?Object(k.jsx)(O.a,{}):!1===v&&""!==U.video&&Object(k.jsx)(f.a,{severity:"success",children:"Video Uploaded Successfully!"})})]}),Object(k.jsx)(p.a,{item:!0,xs:12,sm:12,lg:12,xl:12,container:!0,justify:"center",children:Object(k.jsx)(x.a,{variant:"contained",color:"primary",onClick:R,children:"Submit"})})]})})]})},F=a(180),M=a(53),N=a(176),z=a(177),B=a(90),L=a.n(B),T=a(91),W=a.n(T),U=Object(u.a)((function(e){return{root:Object(M.a)({transition:"transform 0.20s ease-in-out",height:"340px",width:"280px",border:"2px solid black",borderRadius:"10px"},e.breakpoints.down("xs"),{}),cardHovered:{transform:"scale3d(1.09, 1.09, 1)"},cardContent:{marginLeft:10,marginRight:10,marginTop:10,padding:0,display:"flex",flexDirection:"column"},play:{cursor:"pointer",width:"max-content"}}}));function E(e){var t=e.name,a=e.image,r=e.video,i=e.release,c=e.language,s=new Date(i),l=s.getFullYear(),o=s.getMonth()+1,d=s.getDate();d<10&&(d="0"+d),o<10&&(o="0"+o);var u=l+"-"+o+"-"+d,b=Object(n.useState)(!1),m=Object(j.a)(b,2),h=m[0],x=m[1],O=U(),f=Object(n.useState)({raised:!1,shadow:1}),v=Object(j.a)(f,2),y=v[0],w=v[1];return Object(k.jsx)(p.a,{item:!0,lg:3,md:4,sm:6,xs:12,container:!0,justify:"center",children:Object(k.jsxs)(N.a,{className:O.root,classes:{root:y.raised?O.cardHovered:""},onMouseOver:function(){return w({raised:!0,shadow:3})},onMouseOut:function(){return w({raised:!1,shadow:1})},raised:y.raised,zdepth:y.shadow,children:[h?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("video",{width:"280",height:"200",controls:!0,children:Object(k.jsx)("source",{src:r,type:"video/mp4"})}),Object(k.jsx)("div",{className:O.play,children:Object(k.jsx)(W.a,{fontSize:"large",onClick:function(){return x(!1)}})})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{style:{position:"relative"},children:Object(k.jsx)("img",{onClick:function(){return x(!0)},src:a,style:{height:200,width:280,cursor:"pointer"}})}),Object(k.jsx)("div",{className:O.play,children:Object(k.jsx)(L.a,{fontSize:"large",onClick:function(){return x(!0)}})})]}),Object(k.jsxs)(z.a,{className:O.cardContent,children:[Object(k.jsxs)(g.a,{gutterBottom:!0,variant:"body2",children:["Title:\xa0",t]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)(g.a,{gutterBottom:!0,variant:"body2",children:["Date :\xa0",u]}),Object(k.jsxs)(g.a,{gutterBottom:!0,variant:"body2",children:["Language :\xa0",c]})]})]})]})})}var R=function(){var e=Object(n.useState)({pageSize:4,page:1}),t=Object(j.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(null),c=Object(j.a)(i,2),s=c[0],u=c[1],m=Object(n.useState)(null),h=Object(j.a)(m,2),x=h[0],f=h[1];Object(n.useEffect)((function(){v()}),[a]);var v=function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("/api/user/viewMovie",a);case 3:t=e.sent,u(t.data.users),f(Math.ceil(t.data.total/a.pageSize)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(k.jsxs)(b.a,{maxWidth:"lg",style:{paddingTop:30,display:"flex",justifyContent:"center",flexDirection:"column"},children:[Object(k.jsx)(g.a,{variant:"h4",style:{margin:50},align:"center",children:"Movies List"}),Object(k.jsx)(p.a,{container:!0,spacing:3,justify:"center",children:null!=s?Object(k.jsx)(k.Fragment,{children:0===s.length?Object(k.jsx)(g.a,{children:"No Movies There"}):Object(k.jsxs)(k.Fragment,{children:[s.map((function(e){return Object(k.jsx)(E,Object(d.a)({},e))})),x?Object(k.jsx)(p.a,{item:!0,xs:12,sm:12,lg:12,md:12,container:!0,justify:"center",children:Object(k.jsx)(F.a,{style:{marginTop:"50px",marginBottom:"20px"},showFirstButton:!0,showLastButton:!0,count:x,page:a.page,onChange:function(e,t){r(Object(d.a)(Object(d.a)({},a),{},{page:t}))},color:"primary"})}):""]})}):Object(k.jsx)(O.a,{})})]})};var q=function(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(c.c,{children:[Object(k.jsx)(c.a,{exact:!0,path:"/",component:D}),Object(k.jsx)(c.a,{path:"/movies",component:R})]})})},H=a(50);a(131);i.a.render(Object(k.jsx)(H.a,{children:Object(k.jsx)(q,{})}),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.dc84c4d5.chunk.js.map